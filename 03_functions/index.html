<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8' />
    <meta name="description" content="The JavaScript Lessons : Some lessons on JavaScript" />

    <link rel="stylesheet" type="text/css" media="screen" href="../stylesheets/stylesheet.css">

    <title>03 Functions - The JavaScript Lessons</title>
</head>

<body class="sub-page">

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="home_banner" href="../index.html">Home</a>

        <h1 id="project_title">Lesson 03: Functions</h1>
        <section id="fiddle">
            <a class="fiddle_link" target="_blank" href="http://jsfiddle.net/michael_alt/PeDsG/">jsFiddle</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">

        <h3>Functions</h3>

        <p>Die wichtigsten Aspekte zu JavaScript Funktionen:</p>

        <h4>Definition:</h4>

<pre><code>
function add( a, b ) {

    return a + b;

}
</code></pre>

        <h4>Aufruf:</h4>

        <pre><code>var res = add(17,4);</code></pre>

        <h4>Vordefinierte Funktionen</h4>

        <p>Vordefinerte Top-Level Funktionen von JavaScript:</p>

        <ul><li>eval</li><li>isFinite</li><li>isNaN</li><li>parseInt and parseFloat</li><li>Number and String      ( schon wieder , sic <em>g</em>)</li><li>encodeURI, decodeURI, encodeURIComponent, and decodeURIComponent (all available with Javascript 1.5 and later).</li></ul>

        <p>(Liste kopiert aus dem <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Guide/Functions#Predefined_functions">MDN</a>)</p>

        <h4>Funktionen == Objekte</h4>

        <p>Die Funktionsdefinition in JavaScript ist ein Ausdruck! Erzeugt wird ein Funktionsobjekt.</p>

        <p>Daraus ergibt sich eine alternative Syntax, da der Funktionsname damit ebenfalls überflüssig ist.</p>

<pre><code>
var sub = function (a,b) {

    return a - b;

};

console.log(sub(21,4));
</code></pre>

        <h4>lokale Variablen - Funktions-Scope</h4>

        <p>Variablen, die innerhalb einer Funktion - mit var(!) - deklariert werden, sind lokale Variablen;
            sie haben "Funktions-Scope", bzw. sind nur im Context der Ausführung dieser Funktion sichtbar.</p>

        <p>Und es lassen sich private Blöcke simulieren (Anonyme Funktion, die sofort ausgeführt wird):</p>

<pre><code>
(function () {

    var lokal = 42;

})();
</code></pre>

        <p>Zum Abschluss drei Aspekte, die wohl langsam die Dynamik von JavaScript erahnen lassen:</p>

        <h4>Funktions-Konstruktor</h4>

        <p>Die obige Andeutung, dass Funktionen Objekte und First-Class-Citizens sind, kann ich wie folgt
            noch stärker "beweisen":</p>

        <pre><code>var mul = new Function('a','b','return a*b');</code></pre>

        <h4>Apply</h4>

        <p>Da Funktionen also Objekte sind, steht es uns also frei Eigenschaften einer Funktion abzurufen:</p>

        <p>var countPar = mul.length;  // Anzahl formaler Parameter</p>

        <p>Und zuletzt gibt es auch einen Invoke-Mechanismus:</p>

        <pre><code>console.log(add.apply(this, [ 23, 19 ]));</code></pre>

        <p>Zu dem ersten Argument this etwas später.</p>

        <h4>Arguments</h4>

        <p>Die benannten formalen Funktionsparameter können in JavaScript weggelasssen werden,
            innerhalb jeder Funktion steht ein arguments-Objekt mit Array-Charakter zur Verfügung.</p>

<pre><code>
function sum () {

    var summe = 0;
    for( i=0; i&lt;arguments.length; i++) {

        summe += arguments[i];

    }

    return summe;
}
</code></pre>

        <h4>Kontext, Scope</h4>

        <p>Funktionen werden immer in einem definierten Kontext ausgeführt. Dieser definiert
            exakt (nach Spezifikation) welche Umgebung unsere Funktion <em>sieht</em>.</p>

        <p>Im Normalfall ist dies zum Beispiel der globale Kontext:
            siehe <a href="http://es5.github.com/#x10.2.3">ECMA Script</a></p>

        <p>Allerdings erhalten Funktionen, die über den Function-Konstruktor erstellt werden,
            diesen nicht.</p>

    </section>
</div>
<script type="text/javascript" src="../javascripts/main.js"></script>
<script type="text/javascript" src="script.js"></script>
</body>
</html>
